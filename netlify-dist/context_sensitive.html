{% extends "base.html" %}
{% block title %}Context-Sensitive Languages, LBA, Chomsky Hierarchy{% endblock %}
{% block content %}
<div class="card mb-4">
    <div class="card-header" id="contextSensitiveHeader">
        <h3 class="card-title mb-0">Context-Sensitive Languages, LBA, and the Chomsky Hierarchy</h3>
    </div>
    <div class="card-body">
        <h4 class="mb-3">Context-Sensitive Languages (CSLs)</h4>
        <div class="alert alert-info mt-2 p-3 rounded overflow-x-auto">
            <pre style="white-space: pre-wrap; word-break: break-word;">
Definition:
A language is context-sensitive if it can be generated by a context-sensitive grammar (CSG). CSGs have production rules of the form:
αAβ → αγβ
where:
A is a non-terminal.
α,β are strings of terminals/non-terminals (context).
γ is a non-empty string.
            </pre>
        </div>
        <ul>
            <li><b>Non-contracting:</b> Rules cannot shorten the string (except S→ε if ε is in the language).</li>
            <li><b>Recognized by LBAs:</b> CSLs are exactly the languages recognized by linear bounded automata.</li>
        </ul>
        <h5 class="mt-4">Example</h5>
        <div class="alert alert-info mt-2 p-3 rounded overflow-x-auto">
            <pre style="white-space: pre-wrap; word-break: break-word;">
The language L={aⁿbⁿcⁿ | n≥1} is context-sensitive.
CSG Rules:
S → aSBC | aBC
CB → BC
aB → ab
bB → bb
bC → bc
cC → cc

Derivation for a²b²c²:
S⇒aSBC⇒aaBCBC⇒aaBBCC⇒aabBCC⇒aabbCC⇒aabbcC⇒aabbcc
            </pre>
        </div>
        <h4 class="mt-4">Linear Bounded Automata (LBA)</h4>
        <div class="alert alert-info mt-2 p-3 rounded overflow-x-auto">
            <pre style="white-space: pre-wrap; word-break: break-word;">
Definition:
An LBA is a non-deterministic Turing machine with a tape bounded by the input length multiplied by a constant. It cannot move beyond the input's left/right end markers.

Formal Definition:
An LBA is an 8-tuple: (Q,Σ,Γ,δ,q₀,#,$,F)
Tape Alphabet: Γ includes input symbols and markers (#,$).
Transition Function: δ:Q×Γ→Q×Γ×{L,R}.
            </pre>
        </div>
        <ul>
            <li><b>Space Complexity:</b> Uses O(n) tape space for input size n.</li>
            <li><b>Equivalence to CSLs:</b> LBAs recognize all CSLs.</li>
        </ul>
        <h5 class="mt-4">Example</h5>
        <div class="alert alert-info mt-2 p-3 rounded overflow-x-auto">
            <pre style="white-space: pre-wrap; word-break: break-word;">
An LBA for L={aⁿbⁿcⁿ}:
- Verify the input format (e.g., a*b*c*).
- Replace each a, b, c with markers while counting to ensure equal numbers.
            </pre>
        </div>
        <h4 class="mt-4">Chomsky Hierarchy</h4>
        <div class="table-responsive bg-dark p-2 rounded">
            <table class="table table-bordered table-sm text-white">
                <thead class="table-light">
                    <tr><th>Type</th><th>Grammar</th><th>Automaton</th><th>Example Language</th></tr>
                </thead>
                <tbody>
                    <tr><td>0</td><td>Unrestricted</td><td>Turing Machine</td><td>Halting Problem</td></tr>
                    <tr><td>1</td><td>Context-Sensitive</td><td>Linear Bounded Automaton</td><td>{aⁿbⁿcⁿ}</td></tr>
                    <tr><td>2</td><td>Context-Free</td><td>Pushdown Automaton</td><td>{aⁿbⁿ}</td></tr>
                    <tr><td>3</td><td>Regular</td><td>Finite Automaton</td><td>{aⁿ}</td></tr>
                </tbody>
            </table>
        </div>
        <div class="alert alert-info mt-2 p-3 rounded overflow-x-auto">
            <ul>
                <li><b>CSLs (Type 1):</b> More powerful than context-free languages but less than recursively enumerable languages.</li>
                <li><b>Decidability:</b> Emptiness and membership for CSLs are decidable.</li>
            </ul>
        </div>
        <h4 class="mt-4">Applications of CSLs and LBAs</h4>
        <ul>
            <li><b>Compiler Design:</b> Semantic Analysis: Checks variable scope and type compatibility (context-sensitive rules).<br><b>Example:</b> Ensuring variables are declared before use.</li>
            <li><b>Natural Language Processing:</b> Handles cross-serial dependencies in languages like Dutch or Swiss German.</li>
            <li><b>Genetic Programming:</b> Models gene regulation networks requiring context-dependent rules.</li>
            <li><b>Game Theory:</b> Analyzes strategies in games with memory constraints (e.g., chess endgames).</li>
        </ul>
        <h4 class="mt-4">MCQs</h4>
        <div id="mcq-container-context-sensitive">
            <div class="mcq-progress text-end mb-2"></div>
            <ol class="mcq-list" style="list-style: none; padding-left: 0;">
                <li data-correct-answer="B" class="mcq-question-item">
                    <p class="mb-3">Which automaton recognizes context-sensitive languages?</p>
                    <div class="list-group mb-3">
                        <button type="button" class="list-group-item list-group-item-action mcq-option" data-option="A">A. Pushdown Automaton</button>
                        <button type="button" class="list-group-item list-group-item-action mcq-option" data-option="B">B. Linear Bounded Automaton</button>
                        <button type="button" class="list-group-item list-group-item-action mcq-option" data-option="C">C. Finite Automaton</button>
                    </div>
                    <button type="button" class="btn btn-primary submit-mcq-btn">Submit Answer</button>
                    <p class="feedback mt-2"></p>
                </li>
                <li data-correct-answer="B" class="mcq-question-item" style="display: none;">
                    <p class="mb-3">Which language is context-sensitive?</p>
                    <div class="list-group mb-3">
                        <button type="button" class="list-group-item list-group-item-action mcq-option" data-option="A">A. {aⁿbⁿ}</button>
                        <button type="button" class="list-group-item list-group-item-action mcq-option" data-option="B">B. {aⁿbⁿcⁿ}</button>
                        <button type="button" class="list-group-item list-group-item-action mcq-option" data-option="C">C. {wwᴿ | w∈{a,b}*}</button>
                    </div>
                    <button type="button" class="btn btn-primary submit-mcq-btn">Submit Answer</button>
                    <p class="feedback mt-2"></p>
                </li>
                <li data-correct-answer="B" class="mcq-question-item" style="display: none;">
                    <p class="mb-3">In the Chomsky Hierarchy, CSLs are classified as:</p>
                    <div class="list-group mb-3">
                        <button type="button" class="list-group-item list-group-item-action mcq-option" data-option="A">A. Type 0</button>
                        <button type="button" class="list-group-item list-group-item-action mcq-option" data-option="B">B. Type 1</button>
                        <button type="button" class="list-group-item list-group-item-action mcq-option" data-option="C">C. Type 2</button>
                    </div>
                    <button type="button" class="btn btn-primary submit-mcq-btn">Submit Answer</button>
                    <p class="feedback mt-2"></p>
                </li>
            </ol>
        </div>
        <h4 class="mt-4">Conclusion</h4>
        <div class="alert alert-info mt-2 p-3 rounded overflow-x-auto">
            <pre style="white-space: pre-wrap; word-break: break-word;">
Context-sensitive languages and linear bounded automata bridge the gap between context-free and recursively enumerable languages. CSLs enable modeling complex dependencies in programming languages and natural syntax, while LBAs provide a computational framework for recognizing these languages within linear memory bounds. Understanding these concepts is crucial for advanced compiler design, NLP, and theoretical computer science.
            </pre>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<style>
    #contextSensitiveHeader {
        background-color: transparent !important;
    }
    .overflow-x-auto {
        overflow-x: auto !important;
    }
</style>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // MCQ logic for Context-Sensitive page
        const mcqContainer = document.getElementById('mcq-container-context-sensitive');
        if (mcqContainer) {
            const questions = mcqContainer.querySelectorAll('.mcq-question-item');
            let currentQuestionIndex = 0;
            function updateMcqDisplay() {
                questions.forEach((q, index) => {
                    q.style.display = (index === currentQuestionIndex) ? 'block' : 'none';
                });
                updateMcqProgress();
            }
            function updateMcqProgress() {
                const progressText = mcqContainer.querySelector('.mcq-progress');
                if (progressText) {
                    progressText.textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
                }
            }
            function resetQuestion(questionItem) {
                const options = questionItem.querySelectorAll('.mcq-option');
                options.forEach(option => {
                    option.classList.remove('selected-option', 'correct', 'incorrect');
                    option.disabled = false;
                });
                const feedback = questionItem.querySelector('.feedback');
                if (feedback) {
                    feedback.textContent = '';
                    feedback.classList.remove('text-success', 'text-danger');
                }
                const submitBtn = questionItem.querySelector('.submit-mcq-btn');
                if (submitBtn) {
                    submitBtn.style.display = 'block';
                }
            }
            questions.forEach(resetQuestion);
            updateMcqDisplay();
            mcqContainer.addEventListener('click', function(event) {
                const target = event.target;
                if (target.classList.contains('mcq-option')) {
                    const questionItem = target.closest('.mcq-question-item');
                    const options = questionItem.querySelectorAll('.mcq-option');
                    options.forEach(option => option.classList.remove('selected-option'));
                    target.classList.add('selected-option');
                } else if (target.classList.contains('submit-mcq-btn')) {
                    const questionItem = target.closest('.mcq-question-item');
                    const selectedOption = questionItem.querySelector('.mcq-option.selected-option');
                    const feedback = questionItem.querySelector('.feedback');
                    const submitBtn = questionItem.querySelector('.submit-mcq-btn');
                    const correctAnswer = questionItem.dataset.correctAnswer;
                    if (selectedOption) {
                        if (selectedOption.dataset.option === correctAnswer) {
                            feedback.textContent = 'Correct!';
                            feedback.classList.remove('text-danger');
                            feedback.classList.add('text-success');
                            selectedOption.classList.add('correct');
                        } else {
                            feedback.textContent = `Incorrect. The correct answer was ${correctAnswer}.`;
                            feedback.classList.remove('text-success');
                            feedback.classList.add('text-danger');
                            selectedOption.classList.add('incorrect');
                            questionItem.querySelector(`.mcq-option[data-option="${correctAnswer}"]`).classList.add('correct');
                        }
                        questionItem.querySelectorAll('.mcq-option').forEach(option => option.disabled = true);
                        submitBtn.style.display = 'none';
                        setTimeout(() => {
                            currentQuestionIndex++;
                            if (currentQuestionIndex < questions.length) {
                                updateMcqDisplay();
                            } else {
                                alert('You have completed all MCQ questions!');
                                currentQuestionIndex = 0;
                                questions.forEach(resetQuestion);
                                updateMcqDisplay();
                            }
                        }, 2000);
                    } else {
                        feedback.textContent = 'Please select an answer.';
                        feedback.classList.remove('text-success', 'text-danger');
                        feedback.classList.add('text-warning');
                    }
                }
            });
        }
    });
</script>
{% endblock %} 